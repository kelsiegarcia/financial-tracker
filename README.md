# 💰 Financial Tracker Web App

## Overview

This project is a personal finance tracker web application that allows users to view their balance, deposit funds, and withdraw money. It’s part of a long-term learning effort to strengthen my skills as a full-stack software engineer. There is a strong focus on modular development, data persistence, cloud integration, and now, **advanced data analysis to derive actionable insights from financial transactions.**

The project is built using **React** for the frontend, **Flask** for the backend API, and **Google Cloud Firestore** for cloud-based storage. In earlier modules, I explored state management with JavaScript (Module 1) and integrated a local SQLite3 database (Module 2). This latest module focuses on leveraging stored transaction data for statistical analysis and visualization.

**Dataset:**
The dataset for analysis consists of individual financial transactions (deposits and withdrawals) generated by users within the application. Each transaction record, stored in Firestore, includes details such as `user_id`, `amount`, `type` (deposit/withdraw), `description`, and a `timestamp`. This data is dynamic, reflecting real-time financial activities processed by the application's backend.

**Purpose of Analysis:**
The primary purpose of integrating data analysis into this project is to demonstrate the ability to extract meaningful information from operational data. This includes identifying transaction patterns, calculating key financial metrics, and presenting these insights visually to a user or for further business understanding.

📹 [Software Demo Video](https://youtu.be/J7d-eS-TGHg)

---

## 📦 Modules Overview

### ✅ Module 1: Frontend Development

- Created a functional UI using **React** with state and form handling.
- Added logic for handling transactions (deposit, withdraw) in-memory.
- Set up project structure with React Hooks.

### ✅ Module 2: Backend Integration with Local DB

- Set up a **Flask** backend and connected it to a **SQLite3** database.
- API endpoints created for:
  - `GET /balance/:user_id`
  - `POST /deposit`
  - `POST /withdraw`
- Data was persisted locally with `sqlite3`.

### ✅ Module 3: Cloud Database with Firebase

- Migrated backend database logic to **Firebase Realtime Database** for user balances.
- **Note:** For transaction history and the data analysis component (Module 4), **Google Cloud Firestore** is used due to its robust querying capabilities and indexing features, which are crucial for complex financial data analysis.
- Updated endpoints to interact with Firebase instead of SQLite.
- Deployed project in a way that reflects scalable cloud practices.

### ✅ Module 4: Data Analysis with Pandas & Matplotlib

- Implemented a separate Python script (`analyze_data.py`) to retrieve financial transaction data from the Flask API (which, in turn, fetches from Firestore).
- Utilized the **Pandas** library for powerful data manipulation, including:
  - **Filtering** transactions by user and type.
  - **Grouping and Counting** transaction types per user.
  - **Averaging** transaction amounts.
  - **Data Conversion** (e.g., timestamps to datetime objects).
- Generated a visual summary of transaction results using **Matplotlib**.

---

## ☁️ Cloud Database

- **Google Cloud Firestore** (primarily for transactions and data analysis)
- **Firebase Realtime Database** (for user balances - as per Module 3's initial setup)
- Secure access set up using service account credentials (`firebase_credentials.json`).
- Database structures:
  - **Firestore (Transactions):**
    ```json
    // Example transaction document
    {
      "transactions": {
        "auto_generated_id_1": {
          "user_id": "user123",
          "amount": 50.0,
          "type": "deposit",
          "description": "Initial deposit",
          "timestamp": "2025-06-20T17:29:42Z" // ISO format example
        }
      }
    }
    ```
  - **Realtime Database (User Balances):**
    ```json
    {
      "users": {
        "1": {
          "balance": 1000
        },
        "2": {
          "balance": 500
        }
      }
    }
    ```
    _Note: A future improvement could be to unify all data under Firestore._

---

## 📊 Data Analysis Results

This section answers the specific questions using the analytical code:

**Dataset:** Personal financial transaction data stored in Google Cloud Firestore.

**Questions & Answers:**

1.  **What is the total number of deposits and withdrawals for each user?**

    - **Answer:**
      ```
      # [Paste the actual output from your analyze_data.py for Q1 here]
      # Example:
      # Transaction Type  deposit  withdraw
      # user_id
      # user123            10         5
      # demo_user           3         2
      ```
    - _Justification:_ This was derived by grouping the transaction records by both `user_id` and `type` (deposit/withdraw) and then counting the number of occurrences for each combination using Pandas' `groupby().size()`.

2.  **What is the average transaction amount by transaction type?**
    - **Answer:**
      ```
      # [Paste the actual output from your analyze_data.py for Q2 here]
      # Example:
      # type
      # deposit     250.50
      # withdraw     75.30
      # Name: amount, dtype: float64
      ```
    - _Justification:_ This was calculated by grouping the transaction records by their `type` and then computing the mean of the `amount` field for each type using Pandas' `groupby().mean()`.

**Visualization (Stretch Challenge):**
As a stretch challenge, a bar graph visually representing the total transaction amounts (grouped by deposit vs. withdrawal) for the analyzed user is generated by the Python analysis script (`analyze_data.py`). This image (`transaction_summary.png`) is then served by the Flask backend's static file server and displayed directly within the React frontend, providing an immediate visual summary of financial activity.

---

## 💻 Development Environment

This project utilizes a multi-language development environment to support its full-stack architecture and data analysis capabilities.

**Tools Used:**

- **Visual Studio Code (VS Code):** Primary IDE for all code development.
- **Terminal (Zsh/Bash):** Essential for running server processes, activating virtual environments, executing scripts, and performing `curl` requests.
- **Homebrew (macOS):** Used for system-level package management, including core Python installations.
- **Google Cloud Platform (GCP) / Firebase Console:** For managing Firestore and Realtime Database, including data inspection, security rules, and index creation.
- **Postman/Insomnia (Optional):** Used for testing RESTful API endpoints during development.

**Programming Languages & Libraries:**

- **Python 3.13:** The core language for the backend API and data analysis scripts.
  - **Flask:** A lightweight web framework for building the RESTful API endpoints.
  - **Flask-CORS:** Enables Cross-Origin Resource Sharing for secure communication between frontend and backend.
  - **Firebase Admin SDK (Python):** Facilitates server-side interaction with Google Cloud Firebase services (Firestore and Realtime Database).
  - **Pandas:** The fundamental library for data manipulation and analysis, used for powerful filtering, grouping, and aggregation operations on transaction data.
  - **Matplotlib:** A comprehensive library for creating static, interactive, and animated visualizations in Python, used here to generate financial summary graphs.
  - **Requests:** (If direct API fetching is used in `analyze_data.py`) An elegant and simple HTTP library for making requests to web services.
- **JavaScript / React:** For building the dynamic and interactive frontend user interface.
  - **Node.js / npm:** The JavaScript runtime and package manager used for managing React project dependencies and build processes.
- **HTML5 / CSS3:** Standard web technologies for structuring and styling the web application components.

**Virtual Environment Setup for New Users:**

To run this project, it's crucial to set up a Python virtual environment to manage dependencies:

1.  **Navigate to the `backend` directory** of the project in your terminal:
    ```bash
    cd /path/to/your/project/financial-tracker/backend
    ```
2.  **Create a virtual environment:**
    ```bash
    python3 -m venv financial-tracker-env
    ```
3.  **Activate the virtual environment:**

    ```bash
    source financial-tracker-env/bin/activate
    ```

    (Your terminal prompt should now show `(financial-tracker-env)`)

4.  **Install Python dependencies:**
    ```bash
    pip install Flask Flask-Cors firebase-admin pandas matplotlib requests
    ```
5.  **Configure Firebase Credentials:**

    - Obtain your Firebase service account key JSON file from your Firebase project settings (Project settings -> Service accounts -> Generate new private key).
    - Save this JSON file as `firebase_credentials.json` in the `your_project_root/firebase/` directory.
    - **Important:** Ensure the path in `backend/db/firebase_db.py` correctly points to this file:
      `cred_path = os.path.join(BASE_DIR, "..", "..", "firebase", "firebase_credentials.json")`

6.  **For Frontend (React):**
    - Navigate to the `frontend` directory: `cd /path/to/your/project/financial-tracker/frontend`
    - Install Node.js dependencies: `npm install`

---

## 🔗 Useful References

- [Google Cloud Firestore Documentation](https://firebase.google.com/docs/firestore)
- [Firebase Realtime Database Documentation](https://firebase.google.com/docs/database)
- [Flask Documentation](https://flask.palletsprojects.com/)
- [React Official Docs](https://react.dev/)
- [SQLite3 Python Documentation](https://docs.python.org/3/library/sqlite3.html)
- [Pandas Official Site (Overview)](https://pandas.pydata.org/pandas-docs/stable/getting_started/overview.html)
- [Matplotlib Documentation](https://matplotlib.org/stable/index.html)
- [Python venv (Virtual Environments) Documentation](https://docs.python.org/3/library/venv.html)

---

## 🚀 Future Improvements

- Add user authentication with Firebase Auth.
- **Unify database usage to exclusively use Google Cloud Firestore** for all data (balances and transactions) for consistency and to leverage its advanced querying capabilities.
- Implement more sophisticated data analysis (e.g., trend analysis over longer periods, predictive modeling for spending).
- Enhance existing data visualizations and add new ones (e.g., line charts for balance over time, pie charts for spending categories if categories are implemented).
- Improve the Flask API to allow dynamic generation of various graphs based on frontend requests (e.g., passing parameters to `analyze_data.py` to generate different charts).
- Explore real-time data streaming for live balance updates and transaction feeds in the UI.
- Validate numeric inputs and show real-time errors more robustly in the frontend.
- Allow multiple users with full login/logout functionality.
- Deploy the full-stack application to a cloud platform (e.g., Google Cloud Run, App Engine) for online accessibility.
